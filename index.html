<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <title>Hani Home | Ø¹Ù‚Ø§Ø±Ø§Øª Ø§Ù„Ù…ØºØ±Ø¨</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    * { box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }
    body { margin: 0; background: #f4f6f8; direction: rtl; color: #333; }
    header { background: #0f172a; color: white; padding: 20px; text-align: center; }
    .add-btn { margin: 15px; }
    .add-btn a { display: block; text-align: center; background: #16a34a; color: white; padding: 14px; border-radius: 10px; text-decoration: none; font-weight: bold; }
    
    #propertiesContainer { padding-bottom: 30px; }
    .card { background: white; margin: 15px; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1); position: relative; }
    .card img { width: 100%; height: 200px; object-fit: cover; }
    .card-content { padding: 15px; }
    .price { color: #16a34a; font-weight: bold; font-size: 18px; margin: 10px 0; }
    
    /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªØ­ÙƒÙ… */
    .card-actions { display: flex; gap: 10px; margin-top: 10px; }
    .whatsapp-btn { 
      flex: 1; background: #25d366; color: white; text-align: center; 
      padding: 10px; border-radius: 8px; text-decoration: none; font-weight: bold;
    }
    .delete-btn { 
      background: #ef4444; color: white; border: none; padding: 10px 15px; 
      border-radius: 8px; cursor: pointer; font-weight: bold;
    }
    
    footer { background: #0f172a; color: white; text-align: center; padding: 20px; font-size: 13px; }
  </style>
</head>
<body>

<header>
  <h1>Hani Home</h1>
  <p>Ø¨ÙŠØ¹ ÙˆÙƒØ±Ø§Ø¡ Ø§Ù„Ø¹Ù‚Ø§Ø±Ø§Øª ÙÙŠ Ø§Ù„Ù…ØºØ±Ø¨</p>
</header>

<div class="add-btn">
  <a href="add-property.html">+ Ø£Ø¶Ù Ø¹Ù‚Ø§Ø±Ùƒ Ø§Ù„Ø¢Ù†</a>
</div>

<div id="propertiesContainer">
  </div>

<footer>Â© 2025 Hani Home â€“ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</footer>

<script>
  function displayProperties() {
    const container = document.getElementById('propertiesContainer');
    let properties = JSON.parse(localStorage.getItem('hani_properties')) || [];

    if (properties.length === 0) {
      container.innerHTML = "<p style='text-align:center;'>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¹Ù‚Ø§Ø±Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹. Ø£Ø¶Ù Ø¹Ù‚Ø§Ø±Ùƒ Ø§Ù„Ø£ÙˆÙ„!</p>";
      return;
    }

    container.innerHTML = "";
    properties.forEach((prop, index) => {
      // ØªØ¬Ù‡ÙŠØ² Ø±Ø§Ø¨Ø· Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨
      const waLink = `https://wa.me/${prop.phone}?text=Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ…ØŒ Ø£Ù†Ø§ Ù…Ù‡ØªÙ… Ø¨Ø®ØµÙˆØµ: ${prop.title}`;
      
      container.innerHTML += `
        <div class="card">
          <img src="${prop.img}" alt="Property">
          <div class="card-content">
            <strong>${prop.title}</strong>
            <div style="color: #64748b; font-size: 14px;">ğŸ“ ${prop.city} | ${prop.type}</div>
            <div class="price">${prop.price}</div>
            
            <div class="card-actions">
              <a href="${waLink}" target="_blank" class="whatsapp-btn">ÙˆØ§ØªØ³Ø§Ø¨ ğŸ’¬</a>
              <button onclick="deleteProperty(${index})" class="delete-btn">Ø­Ø°Ù ğŸ—‘ï¸</button>
            </div>
          </div>
        </div>
      `;
    });
  }

  function deleteProperty(index) {
    if (confirm("ÙˆØ§Ø´ Ø¨ØµØ­ Ø¨ØºÙŠØªÙŠ ØªÙ…Ø³Ø­ Ù‡Ø§Ø¯ Ø§Ù„Ø¹Ù‚Ø§Ø±ØŸ")) {
      let properties = JSON.parse(localStorage.getItem('hani_properties')) || [];
      properties.splice(index, 1); // Ù…Ø³Ø­ Ø§Ù„Ø¹Ù†ØµØ± Ù…Ù† Ø§Ù„Ù…ØµÙÙˆÙØ©
      localStorage.setItem('hani_properties', JSON.stringify(properties));
      displayProperties(); // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¹Ø±Ø¶
    }
  }

  window.onload = displayProperties;
</script>

</body>
</html>
